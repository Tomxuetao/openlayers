# 10.5.0

The 10.5.0 release contains many fixes, typing improvements, but also several new features:
* The `Snap` interaction now allows snapping to segment intersections; it also offers a new `unsnap` event
* Added support for LineStrings and expressions in the `Heatmap` layer
* Added `getLength` method to the `MultiLineString` geometry class
* Added a `source.setParams()` API alongside the existing `source.updateParams` for various sources to make clearing query parameters easier
* WFS feature properties (and other XML text elements) will now be encoded as CDATA when they contain special XML characters, white spaces etc.
* Added support for `has` expression operator in WebGL layers
* Added a performance improvement when selecting features
* Removed a long-standing Firefox-specific workaround when zooming in/out with the mouse wheel
* Removed the runtime dependencies to the `color-space` and `color-rgba` packages, instead replaced by local code
* Vector layer backgrounds are now rendered even when the source is empty

#### List of all changes

See below for a complete list of features and fixes.

 * Adding numbers to font family regex (by @ltkum in https://github.com/openlayers/openlayers/pull/16771)
 * Safely push to the zIndexContext instructions array (by @ahocevar in https://github.com/openlayers/openlayers/pull/16762)
 * Fixed: WebGLVectorTile layer setStyle issue (by @catakot in https://github.com/openlayers/openlayers/pull/16746)
 * Fix tests (by @ahocevar in https://github.com/openlayers/openlayers/pull/16756)
 * Remove endless render loop (by @ahocevar in https://github.com/openlayers/openlayers/pull/16759)
 * Avoid comparing `match` operator input value with fallback value (by @jahow in https://github.com/openlayers/openlayers/pull/16723)
 * Restore handlebars replacements in website (by @ahocevar in https://github.com/openlayers/openlayers/pull/16754)
 * Implement `has` operator on GPU (by @jahow in https://github.com/openlayers/openlayers/pull/16717)
 * Compare matrix transforms with lower precision (by @ahocevar in https://github.com/openlayers/openlayers/pull/16744)
 * Restore vector tile projection assertion (by @mike-000 in https://github.com/openlayers/openlayers/pull/16739)
 * Get rid of Firefox specific wheel delta adjustment (by @ahocevar in https://github.com/openlayers/openlayers/pull/16726)
 * Hint willReadFrequently leads to worse performance when selecting features (by @natalvc in https://github.com/openlayers/openlayers/pull/16736)
 * A bug fix in unsnap test (by @yjwoo14 in https://github.com/openlayers/openlayers/pull/16724)
 * Contours interpolation using Terrarium tiles with gutter (by @mike-000 in https://github.com/openlayers/openlayers/pull/13647)
 * Add setParams for setting all URL parameters at once (by @tschaub in https://github.com/openlayers/openlayers/pull/16718)
 * Fix hit detection when setting a `filter` in a WebGL Vector Layer (by @jahow in https://github.com/openlayers/openlayers/pull/16710)
 * Fix a shader compilation error when setting stroke dash and point style (by @jahow in https://github.com/openlayers/openlayers/pull/16716)
 * Document that polygons must have a fill for full hit detection #16698 (by @m-mohr in https://github.com/openlayers/openlayers/pull/16701)
 * Add getLength method to ol/geom/MultiLineString (by @MoonE in https://github.com/openlayers/openlayers/pull/16708)
 * Add sustaining sponsors to the main page of the website (by @ahocevar in https://github.com/openlayers/openlayers/pull/16703)
 * Fix typo in Offscreen Canvas example (by @jahow in https://github.com/openlayers/openlayers/pull/16695)
 * Remove unnecessary eslint-disable directive (by @tschaub in https://github.com/openlayers/openlayers/pull/16692)
 * Simplify MapBrowserEvent types and conditions code (by @ahocevar in https://github.com/openlayers/openlayers/pull/16683)
 * Update type to reflect that map.setView(null) can be used (by @tschaub in https://github.com/openlayers/openlayers/pull/16691)
 * Do not exceed device pixel ratio in Wind example (by @mike-000 in https://github.com/openlayers/openlayers/pull/16680)
 * Shader compilation fix for Wind layer example (by @jahow in https://github.com/openlayers/openlayers/pull/16682)
 * Add support for LineStrings and expressions in Heatmap layer (by @jahow in https://github.com/openlayers/openlayers/pull/16643)
 * Update NumpyTile loader url (by @mike-000 in https://github.com/openlayers/openlayers/pull/16667)
 * Convert rich text to plain text when rendering along lines (by @ahocevar in https://github.com/openlayers/openlayers/pull/16665)
 * Render vector layer background also when source is empty (by @ahocevar in https://github.com/openlayers/openlayers/pull/16623)
 * Fix UTFGrid source (by @ahocevar in https://github.com/openlayers/openlayers/pull/16650)
 * Source has changed when loading failed (by @ahocevar in https://github.com/openlayers/openlayers/pull/16647)
 * Remove `@type` comments from examples (by @MoonE in https://github.com/openlayers/openlayers/pull/16626)
 * Fix cloak in example (by @mike-000 in https://github.com/openlayers/openlayers/pull/16642)
 * New option to specify custom segmenters for the Snap interaction (by @ahocevar in https://github.com/openlayers/openlayers/pull/16620)
 * Replace barrel imports in tests (by @tschaub in https://github.com/openlayers/openlayers/pull/16624)
 * Do not include typescript tests in root tsconfig (by @ahocevar in https://github.com/openlayers/openlayers/pull/16619)
 * Fix more type problems in examples (by @MoonE in https://github.com/openlayers/openlayers/pull/16616)
 * Add option to snap to segment intersections (by @ahocevar in https://github.com/openlayers/openlayers/pull/16617)
 * Fix style assignment in WebGLVectorLayer (by @semihher in https://github.com/openlayers/openlayers/pull/16599)
 * Update Jugl (by @MoonE in https://github.com/openlayers/openlayers/pull/16607)
 * Link to GitHub repository instead of npm package (by @ahocevar in https://github.com/openlayers/openlayers/pull/16615)
 * Translate double-quoted type-import paths in examples (by @MoonE in https://github.com/openlayers/openlayers/pull/16608)
 * Add some more DefinitelyTyped types and use ol-numpytiles from npm (by @MoonE in https://github.com/openlayers/openlayers/pull/16609)
 * Mention the removal of the WebGLStyle type in 10.4.0 upgrade notes (by @openlayers in https://github.com/openlayers/openlayers/pull/16602)
 * Fix examples (by @MoonE in https://github.com/openlayers/openlayers/pull/16604)
 * Fix some types (by @MoonE in https://github.com/openlayers/openlayers/pull/16605)
 * Color without dependencies (by @ahocevar in https://github.com/openlayers/openlayers/pull/16601)
 * Support CDATA in writeStringTextNode (by @MelkorCC in https://github.com/openlayers/openlayers/pull/16596)
 * Add Unsnap Event (by @RubenKad in https://github.com/openlayers/openlayers/pull/16352)
 * Remove unused @openlayers/eslint-plugin dependency (by @ahocevar in https://github.com/openlayers/openlayers/pull/16589)
 * Fix 10.4.0 upgrade notes (by @openlayers in https://github.com/openlayers/openlayers/pull/16595)
 * Updates for the 10.4.0 release (by @openlayers in https://github.com/openlayers/openlayers/pull/16592)


<details>
  <summary>Dependency Updates</summary>

 * Bump serve-static from 1.16.2 to 2.2.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16766)
 * Bump sinon from 19.0.4 to 20.0.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16770)
 * Bump @typescript-eslint/parser from 8.27.0 to 8.28.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16768)
 * Bump rollup from 4.37.0 to 4.38.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16769)
 * Bump webpack-dev-server from 5.2.0 to 5.2.1 (by @openlayers in https://github.com/openlayers/openlayers/pull/16767)
 * Bump jspdf from 3.0.0 to 3.0.1 (by @openlayers in https://github.com/openlayers/openlayers/pull/16748)
 * Bump eslint from 9.22.0 to 9.23.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16751)
 * Bump sinon from 19.0.2 to 19.0.4 (by @openlayers in https://github.com/openlayers/openlayers/pull/16750)
 * Bump rollup from 4.36.0 to 4.37.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16752)
 * Bump @typescript-eslint/parser from 8.26.1 to 8.27.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16749)
 * Bump @metalsmith/layouts from 2.7.0 to 3.0.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16731)
 * Bump rollup from 4.35.0 to 4.36.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16730)
 * Bump canvg from 3.0.10 to 3.0.11 (by @openlayers in https://github.com/openlayers/openlayers/pull/16735)
 * Bump @rollup/plugin-node-resolve from 16.0.0 to 16.0.1 (by @openlayers in https://github.com/openlayers/openlayers/pull/16732)
 * Bump shx from 0.3.4 to 0.4.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16729)
 * Bump @typescript-eslint/parser from 8.26.0 to 8.26.1 (by @openlayers in https://github.com/openlayers/openlayers/pull/16728)
 * Bump rollup from 4.34.9 to 4.35.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16713)
 * Bump @rollup/plugin-commonjs from 28.0.2 to 28.0.3 (by @openlayers in https://github.com/openlayers/openlayers/pull/16711)
 * Bump eslint from 9.21.0 to 9.22.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16712)
 * Bump ol-stac from 1.0.0-rc.9 to 1.0.0-rc.10 (by @openlayers in https://github.com/openlayers/openlayers/pull/16714)
 * Bump puppeteer from 24.3.0 to 24.4.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16715)
 * Bump typescript from 5.7.3 to 5.8.2 (by @openlayers in https://github.com/openlayers/openlayers/pull/16687)
 * Bump dawidd6/action-download-artifact from 8 to 9 (by @openlayers in https://github.com/openlayers/openlayers/pull/16684)
 * Bump rollup from 4.34.8 to 4.34.9 (by @openlayers in https://github.com/openlayers/openlayers/pull/16686)
 * Bump ol-mapbox-style from 12.4.1 to 12.5.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16685)
 * Bump @typescript-eslint/parser from 8.24.1 to 8.25.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16688)
 * Bump copy-webpack-plugin from 12.0.2 to 13.0.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16689)
 * Bump puppeteer from 24.2.1 to 24.3.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16690)
 * Bump @types/sinon from 17.0.3 to 17.0.4 (by @openlayers in https://github.com/openlayers/openlayers/pull/16668)
 * Bump @typescript-eslint/parser from 8.24.0 to 8.24.1 (by @openlayers in https://github.com/openlayers/openlayers/pull/16669)
 * Bump pixelmatch from 6.0.0 to 7.1.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16670)
 * Bump jspdf from 2.5.2 to 3.0.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16671)
 * Bump pmtiles from 4.2.1 to 4.3.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16672)
 * Bump eslint from 9.20.1 to 9.21.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16673)
 * Bump eslint from 9.20.0 to 9.20.1 (by @openlayers in https://github.com/openlayers/openlayers/pull/16657)
 * Bump @octokit/rest from 21.1.0 to 21.1.1 (by @openlayers in https://github.com/openlayers/openlayers/pull/16656)
 * Bump puppeteer from 24.2.0 to 24.2.1 (by @openlayers in https://github.com/openlayers/openlayers/pull/16658)
 * Bump rollup from 4.34.6 to 4.34.8 (by @openlayers in https://github.com/openlayers/openlayers/pull/16659)
 * Bump @typescript-eslint/parser from 8.23.0 to 8.24.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16660)
 * Bump @codemirror/lang-javascript from 6.2.2 to 6.2.3 (by @openlayers in https://github.com/openlayers/openlayers/pull/16655)
 * Bump ol-stac from 1.0.0-rc.8 to 1.0.0-rc.9 (by @openlayers in https://github.com/openlayers/openlayers/pull/16661)
 * Bump webpack from 5.97.1 to 5.98.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16654)
 * Bump puppeteer from 24.1.1 to 24.2.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16632)
 * Bump ol-mapbox-style from 12.4.0 to 12.4.1 (by @openlayers in https://github.com/openlayers/openlayers/pull/16639)
 * Bump rollup from 4.34.1 to 4.34.6 (by @openlayers in https://github.com/openlayers/openlayers/pull/16638)
 * Bump ol-stac from 1.0.0-rc.7 to 1.0.0-rc.8 (by @openlayers in https://github.com/openlayers/openlayers/pull/16637)
 * Bump @typescript-eslint/parser from 8.22.0 to 8.23.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16636)
 * Bump marked from 15.0.6 to 15.0.7 (by @openlayers in https://github.com/openlayers/openlayers/pull/16635)
 * Bump @types/d3-scale from 4.0.8 to 4.0.9 (by @openlayers in https://github.com/openlayers/openlayers/pull/16634)
 * Bump eslint from 9.19.0 to 9.20.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16633)
 * Bump semver from 7.7.0 to 7.7.1 (by @openlayers in https://github.com/openlayers/openlayers/pull/16631)
 * Bump globby from 14.0.2 to 14.1.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16630)
 * Bump ol-stac from 1.0.0-rc.5 to 1.0.0-rc.7 (by @openlayers in https://github.com/openlayers/openlayers/pull/16614)
 * Bump semver from 7.6.3 to 7.7.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16613)
 * Bump rollup from 4.32.0 to 4.34.1 (by @openlayers in https://github.com/openlayers/openlayers/pull/16612)
 * Bump @typescript-eslint/parser from 8.21.0 to 8.22.0 (by @openlayers in https://github.com/openlayers/openlayers/pull/16611)


</details>
